<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home Dashboard</title>
    <style>
        body {
            margin: 0;
            font-family: Arial, sans-serif;
            background: #f4f4f4;
        }
        .dashboard-container {
            display: flex;
            height: 100vh;
            align-items: stretch;
        }
        .left-panel {
            flex: 1;
            background: #fff;
            padding: 40px;
            box-shadow: 2px 0 8px rgba(0,0,0,0.05);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: flex-start;
        }
        .right-panel {
            flex: 1;
            background: #e3eafc;
            padding: 40px 40px 40px 40px;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: flex-end;
            box-sizing: border-box;
            min-height: 0;
            height: 100%;
        }
        .title {
            font-size: 2em;
            margin-bottom: 20px;
        }
        .value {
            font-size: 3em;
            margin-bottom: 10px;
        }
        .label {
            font-size: 1.2em;
            color: #555;
            margin-bottom: 30px;
        }
        #weather-info {
            width: 100%;
            display: flex;
            flex-direction: column;
            align-items: flex-end;
        }
        #weatherBoxes {
            display: flex;
            flex-wrap: wrap;
            gap: 6px;
            margin-top: 30px;
            max-width: 370px;
            width: 100%;
            box-sizing: border-box;
        }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <div class="dashboard-container">
        <div class="left-panel">
            <div class="title">Casa</div>
            <div class="value" id="temperature">22°C</div>
            <div class="label">Temperatura</div>
            <canvas id="tempChart" width="180" height="40%" style="margin-bottom:20px;"></canvas>
            <div class="value" id="humidity">45%</div>
            <div class="label">Umidità</div>
            <canvas id="humChart" width="180" height="40%"></canvas>
        </div>
        <div class="right-panel">
            <div class="title" style="margin-top:40px;">Meteo</div>
            <div id="datetime" style="font-size:1.1em;color:#444;margin-bottom:18px;"></div>
            <div id="weather-info">
                <div class="value">Soleggiato</div>
                <div class="label">25°C</div>
                <div id="weatherBoxes" style="display: flex; flex-wrap: wrap; gap: 6px; margin-top: 30px; max-width: 90%;"></div>
            </div>
        </div>
    </div>
    <script>
        // Dati di esempio per i grafici
        const tempData = {
            labels: ['08:00', '09:00', '10:00', '11:00', '12:00', '13:00'],
            datasets: [{
                label: 'Temperatura (°C)',
                data: [21, 21.5, 22, 22.2, 22.1, 22],
                borderColor: 'rgba(255,99,132,1)',
                backgroundColor: 'rgba(255,99,132,0.1)',
                fill: true,
                tension: 0.3
            }]
        };
        const humData = {
            labels: ['08:00', '09:00', '10:00', '11:00', '12:00', '13:00'],
            datasets: [{
                label: 'Umidità (%)',
                data: [44, 45, 45, 46, 45, 45],
                borderColor: 'rgba(54,162,235,1)',
                backgroundColor: 'rgba(54,162,235,0.1)',
                fill: true,
                tension: 0.3
            }]
        };
        // Dati di esempio per il meteo ogni ora della giornata
        const weatherLabels = [
            '00:00','01:00','02:00','03:00','04:00','05:00','06:00','07:00','08:00','09:00','10:00','11:00',
            '12:00','13:00','14:00','15:00','16:00','17:00','18:00','19:00','20:00','21:00','22:00','23:00'
        ];
        const weatherData = {
            labels: weatherLabels,
            datasets: [{
                label: 'Temperatura esterna (°C)',
                data: [18,18,17,17,16,16,17,18,20,22,24,25,26,27,28,28,27,26,25,24,23,22,21,20],
                borderColor: 'rgba(255, 206, 86, 1)',
                backgroundColor: 'rgba(255, 206, 86, 0.1)',
                fill: true,
                tension: 0.3
            }]
        };
        // Sostituisco il grafico meteo con box orari stile Google
        const weatherHours = [
            { ora: '00', temp: 18, icon: '🌙' },
            { ora: '01', temp: 18, icon: '🌙' },
            { ora: '02', temp: 17, icon: '🌙' },
            { ora: '03', temp: 17, icon: '🌙' },
            { ora: '04', temp: 16, icon: '🌙' },
            { ora: '05', temp: 16, icon: '🌙' },
            { ora: '06', temp: 17, icon: '🌤️' },
            { ora: '07', temp: 18, icon: '🌤️' },
            { ora: '08', temp: 20, icon: '☀️' },
            { ora: '09', temp: 22, icon: '☀️' },
            { ora: '10', temp: 24, icon: '☀️' },
            { ora: '11', temp: 25, icon: '☀️' },
            { ora: '12', temp: 26, icon: '☀️' },
            { ora: '13', temp: 27, icon: '☀️' },
            { ora: '14', temp: 28, icon: '☀️' },
            { ora: '15', temp: 28, icon: '☀️' },
            { ora: '16', temp: 27, icon: '☀️' },
            { ora: '17', temp: 26, icon: '☀️' },
            { ora: '18', temp: 25, icon: '☀️' },
            { ora: '19', temp: 24, icon: '☀️' },
            { ora: '20', temp: 23, icon: '🌤️' },
            { ora: '21', temp: 22, icon: '🌤️' },
            { ora: '22', temp: 21, icon: '🌙' },
            { ora: '23', temp: 20, icon: '🌙' }
        ];
        function renderWeatherBoxes() {
            const container = document.getElementById('weatherBoxes');
            container.innerHTML = '';
            weatherHours.forEach(w => {
                const box = document.createElement('div');
                box.style.display = 'flex';
                box.style.flexDirection = 'column';
                box.style.alignItems = 'center';
                box.style.justifyContent = 'center';
                box.style.width = '10%';
                box.style.height = '31%';
                box.style.background = '#fff';
                box.style.borderRadius = '10px';
                box.style.boxShadow = '0 1px 4px rgba(0,0,0,0.07)';
                box.style.fontSize = '1em';
                box.innerHTML = `<div style='font-size:0.9em;color:#888;'>${w.ora}:00</div><div style='font-size:1.5em;'>${w.icon}</div><div style='font-size:1.1em;font-weight:bold;'>${w.temp}°</div>`;
                container.appendChild(box);
            });
        }
        function updateDateTime() {
            const now = new Date();
            const options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
            const dateStr = now.toLocaleDateString('it-IT', options);
            const timeStr = now.toLocaleTimeString('it-IT', { hour: '2-digit', minute: '2-digit' });
            document.getElementById('datetime').textContent = `${dateStr} - ${timeStr}`;
        }
        window.onload = function() {
            new Chart(document.getElementById('tempChart').getContext('2d'), {
                type: 'line',
                data: tempData,
                options: {
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: false } }
                }
            });
            new Chart(document.getElementById('humChart').getContext('2d'), {
                type: 'line',
                data: humData,
                options: {
                    plugins: { legend: { display: false } },
                    scales: { y: { beginAtZero: false } }
                }
            });
            renderWeatherBoxes();
            updateDateTime();
            setInterval(updateDateTime, 1000);
        };
    </script>
</body>
</html>
